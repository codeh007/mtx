[{"sql":["CREATE TABLE IF NOT EXISTS \"Chat\" (\n\t\"id\" uuid PRIMARY KEY DEFAULT gen_random_uuid() NOT NULL,\n\t\"createdAt\" timestamp NOT NULL,\n\t\"messages\" json NOT NULL,\n\t\"userId\" uuid NOT NULL\n);\n","\nCREATE TABLE IF NOT EXISTS \"User\" (\n\t\"id\" uuid PRIMARY KEY DEFAULT gen_random_uuid() NOT NULL,\n\t\"email\" varchar(64) NOT NULL,\n\t\"password\" varchar(64)\n);\n","\nDO $$ BEGIN\n ALTER TABLE \"Chat\" ADD CONSTRAINT \"Chat_userId_User_id_fk\" FOREIGN KEY (\"userId\") REFERENCES \"public\".\"User\"(\"id\") ON DELETE no action ON UPDATE no action;\nEXCEPTION\n WHEN duplicate_object THEN null;\nEND $$;\n"],"bps":true,"folderMillis":1728598022383,"hash":"6507b708abed877087c2436107f0c4f5ead94bccad9173fc62bd1bd0f2d97071"},{"sql":["CREATE TABLE IF NOT EXISTS \"Suggestion\" (\n\t\"id\" uuid DEFAULT gen_random_uuid() NOT NULL,\n\t\"documentId\" uuid NOT NULL,\n\t\"documentCreatedAt\" timestamp NOT NULL,\n\t\"originalText\" text NOT NULL,\n\t\"suggestedText\" text NOT NULL,\n\t\"description\" text,\n\t\"isResolved\" boolean DEFAULT false NOT NULL,\n\t\"userId\" uuid NOT NULL,\n\t\"createdAt\" timestamp NOT NULL,\n\tCONSTRAINT \"Suggestion_id_pk\" PRIMARY KEY(\"id\")\n);\n","\nCREATE TABLE IF NOT EXISTS \"Document\" (\n\t\"id\" uuid DEFAULT gen_random_uuid() NOT NULL,\n\t\"createdAt\" timestamp NOT NULL,\n\t\"title\" text NOT NULL,\n\t\"content\" text,\n\t\"userId\" uuid NOT NULL,\n\tCONSTRAINT \"Document_id_createdAt_pk\" PRIMARY KEY(\"id\",\"createdAt\")\n);\n","\nDO $$ BEGIN\n ALTER TABLE \"Suggestion\" ADD CONSTRAINT \"Suggestion_userId_User_id_fk\" FOREIGN KEY (\"userId\") REFERENCES \"public\".\"User\"(\"id\") ON DELETE no action ON UPDATE no action;\nEXCEPTION\n WHEN duplicate_object THEN null;\nEND $$;\n","\nDO $$ BEGIN\n ALTER TABLE \"Suggestion\" ADD CONSTRAINT \"Suggestion_documentId_documentCreatedAt_Document_id_createdAt_fk\" FOREIGN KEY (\"documentId\",\"documentCreatedAt\") REFERENCES \"public\".\"Document\"(\"id\",\"createdAt\") ON DELETE no action ON UPDATE no action;\nEXCEPTION\n WHEN duplicate_object THEN null;\nEND $$;\n","\nDO $$ BEGIN\n ALTER TABLE \"Document\" ADD CONSTRAINT \"Document_userId_User_id_fk\" FOREIGN KEY (\"userId\") REFERENCES \"public\".\"User\"(\"id\") ON DELETE no action ON UPDATE no action;\nEXCEPTION\n WHEN duplicate_object THEN null;\nEND $$;\n"],"bps":true,"folderMillis":1730207363999,"hash":"18764b56ff99235f4d56ae0ec39207cb60df14aeeba9545fbbc49eecd0de10a0"},{"sql":["CREATE TABLE IF NOT EXISTS \"Message\" (\n\t\"id\" uuid PRIMARY KEY DEFAULT gen_random_uuid() NOT NULL,\n\t\"chatId\" uuid NOT NULL,\n\t\"role\" varchar NOT NULL,\n\t\"content\" json NOT NULL,\n\t\"createdAt\" timestamp NOT NULL\n);\n","\nCREATE TABLE IF NOT EXISTS \"Vote\" (\n\t\"chatId\" uuid NOT NULL,\n\t\"messageId\" uuid NOT NULL,\n\t\"isUpvoted\" boolean NOT NULL,\n\tCONSTRAINT \"Vote_chatId_messageId_pk\" PRIMARY KEY(\"chatId\",\"messageId\")\n);\n","\nALTER TABLE \"Chat\" ADD COLUMN \"title\" text NOT NULL;","\nDO $$ BEGIN\n ALTER TABLE \"Message\" ADD CONSTRAINT \"Message_chatId_Chat_id_fk\" FOREIGN KEY (\"chatId\") REFERENCES \"public\".\"Chat\"(\"id\") ON DELETE no action ON UPDATE no action;\nEXCEPTION\n WHEN duplicate_object THEN null;\nEND $$;\n","\nDO $$ BEGIN\n ALTER TABLE \"Vote\" ADD CONSTRAINT \"Vote_chatId_Chat_id_fk\" FOREIGN KEY (\"chatId\") REFERENCES \"public\".\"Chat\"(\"id\") ON DELETE no action ON UPDATE no action;\nEXCEPTION\n WHEN duplicate_object THEN null;\nEND $$;\n","\nDO $$ BEGIN\n ALTER TABLE \"Vote\" ADD CONSTRAINT \"Vote_messageId_Message_id_fk\" FOREIGN KEY (\"messageId\") REFERENCES \"public\".\"Message\"(\"id\") ON DELETE no action ON UPDATE no action;\nEXCEPTION\n WHEN duplicate_object THEN null;\nEND $$;\n","\nALTER TABLE \"Chat\" DROP COLUMN IF EXISTS \"messages\";"],"bps":true,"folderMillis":1730725226313,"hash":"2033f25b81f2c809949ad34badd70ec88c4f62618fa927603c35e9d377de0731"}]