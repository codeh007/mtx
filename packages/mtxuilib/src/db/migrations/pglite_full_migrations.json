[{"sql":["CREATE TABLE \"User\" (\n\t\"id\" uuid PRIMARY KEY DEFAULT gen_random_uuid() NOT NULL,\n\t\"email\" varchar(64) NOT NULL,\n\t\"password\" varchar(64)\n);\n","\nCREATE TABLE \"Chat\" (\n\t\"id\" uuid PRIMARY KEY DEFAULT gen_random_uuid() NOT NULL,\n\t\"createdAt\" timestamp NOT NULL,\n\t\"title\" text NOT NULL,\n\t\"userId\" uuid NOT NULL\n);\n","\nCREATE TABLE \"Document\" (\n\t\"id\" uuid DEFAULT gen_random_uuid() NOT NULL,\n\t\"createdAt\" timestamp NOT NULL,\n\t\"title\" text NOT NULL,\n\t\"content\" text,\n\t\"userId\" uuid NOT NULL,\n\tCONSTRAINT \"Document_id_createdAt_pk\" PRIMARY KEY(\"id\",\"createdAt\")\n);\n","\nCREATE TABLE \"Message\" (\n\t\"id\" uuid PRIMARY KEY DEFAULT gen_random_uuid() NOT NULL,\n\t\"chatId\" uuid NOT NULL,\n\t\"role\" varchar NOT NULL,\n\t\"content\" json NOT NULL,\n\t\"createdAt\" timestamp NOT NULL\n);\n","\nCREATE TABLE \"Suggestion\" (\n\t\"id\" uuid DEFAULT gen_random_uuid() NOT NULL,\n\t\"documentId\" uuid NOT NULL,\n\t\"documentCreatedAt\" timestamp NOT NULL,\n\t\"originalText\" text NOT NULL,\n\t\"suggestedText\" text NOT NULL,\n\t\"description\" text,\n\t\"isResolved\" boolean DEFAULT false NOT NULL,\n\t\"userId\" uuid NOT NULL,\n\t\"createdAt\" timestamp NOT NULL,\n\tCONSTRAINT \"Suggestion_id_pk\" PRIMARY KEY(\"id\")\n);\n","\nCREATE TABLE \"Vote\" (\n\t\"chatId\" uuid NOT NULL,\n\t\"messageId\" uuid NOT NULL,\n\t\"isUpvoted\" boolean NOT NULL,\n\tCONSTRAINT \"Vote_chatId_messageId_pk\" PRIMARY KEY(\"chatId\",\"messageId\")\n);\n","\nCREATE TABLE \"NodeState\" (\n\t\"id\" uuid PRIMARY KEY DEFAULT gen_random_uuid() NOT NULL,\n\t\"content\" json NOT NULL,\n\t\"createdAt\" timestamp NOT NULL\n);\n","\nALTER TABLE \"Chat\" ADD CONSTRAINT \"Chat_userId_User_id_fk\" FOREIGN KEY (\"userId\") REFERENCES \"public\".\"User\"(\"id\") ON DELETE no action ON UPDATE no action;","\nALTER TABLE \"Document\" ADD CONSTRAINT \"Document_userId_User_id_fk\" FOREIGN KEY (\"userId\") REFERENCES \"public\".\"User\"(\"id\") ON DELETE no action ON UPDATE no action;","\nALTER TABLE \"Message\" ADD CONSTRAINT \"Message_chatId_Chat_id_fk\" FOREIGN KEY (\"chatId\") REFERENCES \"public\".\"Chat\"(\"id\") ON DELETE no action ON UPDATE no action;","\nALTER TABLE \"Suggestion\" ADD CONSTRAINT \"Suggestion_userId_User_id_fk\" FOREIGN KEY (\"userId\") REFERENCES \"public\".\"User\"(\"id\") ON DELETE no action ON UPDATE no action;","\nALTER TABLE \"Suggestion\" ADD CONSTRAINT \"Suggestion_documentId_documentCreatedAt_Document_id_createdAt_fk\" FOREIGN KEY (\"documentId\",\"documentCreatedAt\") REFERENCES \"public\".\"Document\"(\"id\",\"createdAt\") ON DELETE no action ON UPDATE no action;","\nALTER TABLE \"Vote\" ADD CONSTRAINT \"Vote_chatId_Chat_id_fk\" FOREIGN KEY (\"chatId\") REFERENCES \"public\".\"Chat\"(\"id\") ON DELETE no action ON UPDATE no action;","\nALTER TABLE \"Vote\" ADD CONSTRAINT \"Vote_messageId_Message_id_fk\" FOREIGN KEY (\"messageId\") REFERENCES \"public\".\"Message\"(\"id\") ON DELETE no action ON UPDATE no action;"],"bps":true,"folderMillis":1734515865737,"hash":"50fc1abd1c57cf05d874b4fd51503412a63392eee3d22b1f848e00639a9800ea"}]